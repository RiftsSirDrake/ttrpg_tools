<div class="container-fluid">
  <div class="pagetitle">
    <h1>User Details</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item"><%= link_to "User Management", admin_users_path %></li>
        <li class="breadcrumb-item active"><%= @user.email %></li>
      </ol>
    </nav>
  </div>

  <section class="section">
    <div class="row">
      <div class="col-lg-8">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">User Information</h5>

            <div class="row mb-3">
              <div class="col-lg-3 col-md-4 label fw-bold text-primary">Email</div>
              <div class="col-lg-9 col-md-8">
                <i class="bi bi-envelope me-2"></i> <%= @user.email %>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col-lg-3 col-md-4 label fw-bold text-primary">Role</div>
              <div class="col-lg-9 col-md-8">
                <% role_class = case @user.role
                                  when 'admin' then 'bg-danger'
                                  when 'member' then 'bg-success'
                                  else 'bg-secondary'
                                end %>
                <span class="badge <%= role_class %>"><%= @user.role.humanize %></span>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col-lg-3 col-md-4 label fw-bold text-primary">Created At</div>
              <div class="col-lg-9 col-md-8">
                <i class="bi bi-calendar-event me-2"></i> <%= @user.created_at.strftime("%Y-%m-%d %H:%M") %>
              </div>
            </div>

            <div class="mt-4 pt-3 border-top">
              <div class="d-flex gap-2">
                <%= link_to edit_admin_user_path(@user), class: 'btn btn-primary' do %>
                  <i class="bi bi-pencil"></i> Edit User
                <% end %>
                <%= button_to reset_password_admin_user_path(@user), method: :patch, class: 'btn btn-warning', data: { confirm: 'Are you sure you want to reset this user\'s password?' } do %>
                  <i class="bi bi-key"></i> Reset Password
                <% end %>
                <%= link_to admin_users_path, class: 'btn btn-secondary' do %>
                  <i class="bi bi-arrow-left"></i> Back to Users
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
